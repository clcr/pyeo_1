2023-05-17 10:41:53,180: INFO: ****PROCESSING START****
2023-05-17 10:41:53,181: INFO: ---------------------------------------------------------------
2023-05-17 10:41:53,181: INFO: ---                  INTEGRATED PROCESSING START            ---
2023-05-17 10:41:53,181: INFO: ---------------------------------------------------------------
2023-05-17 10:41:53,181: INFO: Reading in parameters defined in the Config
2023-05-17 10:41:53,181: INFO: ---------------------------------------------------------------
2023-05-17 10:41:53,181: INFO: ---------------------------------------------------------------
2023-05-17 10:41:53,181: INFO: Starting acd_to_config_to_log()
2023-05-17 10:41:53,181: INFO: ---------------------------------------------------------------
2023-05-17 10:41:53,182: INFO: Options:
2023-05-17 10:41:53,182: INFO:   Running in production mode, avoiding any development versions of functions.
2023-05-17 10:41:53,182: INFO:   --do_raster
2023-05-17 10:41:53,182: INFO:       raster pipeline enabled
2023-05-17 10:41:53,182: INFO:   --do_delete_existing_vector , when vectorising the change report rasters, 
2023-05-17 10:41:53,182: INFO:             existing vectors files will be deleted and new vector files created.
2023-05-17 10:41:53,182: INFO:   --do_vectorise
2023-05-17 10:41:53,182: INFO:       raster change reports will be vectorised
2023-05-17 10:41:53,182: INFO:   --do_integrate
2023-05-17 10:41:53,182: INFO:       vectorised reports will be merged together
2023-05-17 10:41:53,182: INFO: EPSG used is: 21097
2023-05-17 10:41:53,182: INFO: List of image bands: ['B02', 'B03', 'B04', 'B08']
2023-05-17 10:41:53,182: INFO: Model used: /data/clcr/shared/IMPRESS/Ivan/kenya_national_prod/models/model_36MYE_20230505_no_haze/model_36MYE_Unoptimised_20230505_no_haze.pkl
2023-05-17 10:41:53,182: INFO: 
2023-05-17 10:41:53,182: INFO: List of class labels:
2023-05-17 10:41:53,182: INFO:   1 : primary forest
2023-05-17 10:41:53,182: INFO:   2 : plantation forest
2023-05-17 10:41:53,183: INFO:   3 : bare soil
2023-05-17 10:41:53,183: INFO:   4 : crops
2023-05-17 10:41:53,183: INFO:   5 : grassland
2023-05-17 10:41:53,183: INFO:   6 : open water
2023-05-17 10:41:53,183: INFO:   7 : burn scar
2023-05-17 10:41:53,183: INFO:   8 : cloud
2023-05-17 10:41:53,183: INFO:   9 : cloud shadow
2023-05-17 10:41:53,183: INFO:   10 : haze
2023-05-17 10:41:53,183: INFO:   11 : sparse woodland
2023-05-17 10:41:53,183: INFO:   12 : dense woodland
2023-05-17 10:41:53,183: INFO:   13 : artificial
2023-05-17 10:41:53,183: INFO: Detecting changes from any of the classes: [1, 2]
2023-05-17 10:41:53,183: INFO:                     to any of the classes: [3]
2023-05-17 10:41:53,183: INFO: ------------------------------------------------------------
2023-05-17 10:41:53,183: INFO: Reporting Directories and Filepaths
2023-05-17 10:41:53,183: INFO: Tile Directory is   : /data/clcr/shared/IMPRESS/matt/testing_tiles/
2023-05-17 10:41:53,184: INFO: Working Directory is   : /data/clcr/shared/IMPRESS/matt/pyeo_1/pyeo_1_production/pyeo_1_production
2023-05-17 10:41:53,184: INFO: The following directories are relative to the working directory, i.e. stored underneath:
2023-05-17 10:41:53,184: INFO: Integrated Directory is   : ./integrated
2023-05-17 10:41:53,184: INFO: ROI Directory is   : ./roi
2023-05-17 10:41:53,184: INFO: Geometry Directory is   : ./geometry
2023-05-17 10:41:53,184: INFO: Path to the Administrative Boundaries used in the Change Report Vectorisation   : ./geometry/gadm41_KEN_1.json
2023-05-17 10:41:53,184: INFO: Path to Sen2Cor is   : /home/m/mp730/Downloads/Sen2Cor-02.11.00-Linux64/bin/L2A_Process
2023-05-17 10:41:53,184: INFO: The Conda Environment which was provided in .ini file is :  pyeo_prod_0_8_0_env
2023-05-17 10:41:53,184: INFO: -------------------------------------------
2023-05-17 10:41:53,184: INFO: Streaming config parameters to log file for reference
2023-05-17 10:41:53,184: INFO: planet
2023-05-17 10:41:53,184: INFO:      api_key :  
2023-05-17 10:41:53,184: INFO: forest_sentinel
2023-05-17 10:41:53,184: INFO:      start_date :  20230101
2023-05-17 10:41:53,184: INFO:      end_date :  20231231
2023-05-17 10:41:53,185: INFO:      composite_start :  20220601
2023-05-17 10:41:53,185: INFO:      composite_end :  20221231
2023-05-17 10:41:53,185: INFO:      epsg :  21097
2023-05-17 10:41:53,185: INFO:      cloud_cover :  25
2023-05-17 10:41:53,185: INFO:      cloud_certainty_threshold :  0
2023-05-17 10:41:53,185: INFO:      model :  /data/clcr/shared/IMPRESS/Ivan/kenya_national_prod/models/model_36MYE_20230505_no_haze/model_36MYE_Unoptimised_20230505_no_haze.pkl
2023-05-17 10:41:53,185: INFO: environment
2023-05-17 10:41:53,185: INFO:      pyeo_dir :  /data/clcr/shared/IMPRESS/matt/pyeo_1/pyeo_1_production/pyeo_1_production
2023-05-17 10:41:53,185: INFO:      tile_dir :  /data/clcr/shared/IMPRESS/matt/testing_tiles/
2023-05-17 10:41:53,185: INFO:      integrated_dir :  ./integrated
2023-05-17 10:41:53,185: INFO:      roi_dir :  ./roi
2023-05-17 10:41:53,185: INFO:      roi_filename :  kfs_roi_subset.shp
2023-05-17 10:41:53,185: INFO:      geometry_dir :  ./geometry
2023-05-17 10:41:53,185: INFO:      log_dir :  ./log
2023-05-17 10:41:53,185: INFO:      log_filename :  acd_total_test_120523.txt
2023-05-17 10:41:53,186: INFO:      credentials_path :  ./credentials/credentials.ini
2023-05-17 10:41:53,186: INFO:      conda_env_name :  pyeo_prod_0_8_0_env
2023-05-17 10:41:53,186: INFO:      sen2cor_path :  /home/m/mp730/Downloads/Sen2Cor-02.11.00-Linux64/bin/L2A_Process
2023-05-17 10:41:53,186: INFO: raster_processing_parameters
2023-05-17 10:41:53,186: INFO:      band_names :  ["B02", "B03", "B04", "B08"]
2023-05-17 10:41:53,186: INFO:      resolution_string :  "10m"
2023-05-17 10:41:53,186: INFO:      output_resolution :  10
2023-05-17 10:41:53,186: INFO:      buffer_size_cloud_masking :  20
2023-05-17 10:41:53,186: INFO:      buffer_size_cloud_masking_composite :  10
2023-05-17 10:41:53,186: INFO:      download_limit :  10
2023-05-17 10:41:53,186: INFO:      faulty_granule_threshold :  200
2023-05-17 10:41:53,186: INFO:      class_labels :  ["primary forest", "plantation forest", "bare soil", "crops", "grassland", "open water", "burn scar", "cloud", "cloud shadow", "haze", "sparse woodland", "dense woodland", "artificial"]
2023-05-17 10:41:53,186: INFO:      change_from_classes :  [1, 2]
2023-05-17 10:41:53,186: INFO:      change_to_classes :  [3]
2023-05-17 10:41:53,186: INFO:      sieve :  0
2023-05-17 10:41:53,187: INFO:      chunks :  10
2023-05-17 10:41:53,187: INFO:      download_source :  "scihub"
2023-05-17 10:41:53,187: INFO:      do_raster :  True
2023-05-17 10:41:53,187: INFO:      do_build_composite :  False
2023-05-17 10:41:53,187: INFO:      do_all :  False
2023-05-17 10:41:53,187: INFO:      do_download :  False
2023-05-17 10:41:53,187: INFO:      do_build_prob_image :  False
2023-05-17 10:41:53,187: INFO:      do_classify :  False
2023-05-17 10:41:53,187: INFO:      do_change :  False
2023-05-17 10:41:53,187: INFO:      do_dev :  False
2023-05-17 10:41:53,187: INFO:      do_update :  False
2023-05-17 10:41:53,187: INFO:      do_quicklooks :  False
2023-05-17 10:41:53,187: INFO:      do_delete :  False
2023-05-17 10:41:53,187: INFO:      do_zip :  False
2023-05-17 10:41:53,187: INFO:      do_skip_existing :  False
2023-05-17 10:41:53,187: INFO: vector_processing_parameters
2023-05-17 10:41:53,188: INFO:      level_1_filename :  gadm41_KEN_1.json
2023-05-17 10:41:53,188: INFO:      level_2_filename :  gadm41_KEN_2.json
2023-05-17 10:41:53,188: INFO:      level_3_filename :  gadm41_KEN_3.json
2023-05-17 10:41:53,188: INFO:      do_delete_existing_vector :  True
2023-05-17 10:41:53,188: INFO:      do_vectorise :  True
2023-05-17 10:41:53,188: INFO:      do_integrate :  True
2023-05-17 10:41:53,188: INFO: ---------------------------------------------------------------
2023-05-17 10:41:53,188: INFO: Starting acd_roi_tile_intersection()
2023-05-17 10:41:53,188: INFO: ---------------------------------------------------------------
2023-05-17 10:41:54,157: INFO: The provided ROI intersects with 2 Sentinel-2 tiles
2023-05-17 10:41:54,157: INFO: These tiles are  :
2023-05-17 10:41:54,157: INFO:   1 : 36NXG
2023-05-17 10:41:54,157: INFO:   2 : 36NYG
2023-05-17 10:41:54,157: INFO: Writing Sentinel-2 tiles that intersect with the provided ROI to  : ./roi/tilelist.csv
2023-05-17 10:41:54,224: INFO: Finished ROI tile intersection
2023-05-17 10:41:54,224: INFO: ---------------------------------------------------------------
2023-05-17 10:41:54,224: INFO: Starting acd_integrated_raster():
2023-05-17 10:41:54,224: INFO: ---------------------------------------------------------------
2023-05-17 10:41:54,303: INFO: Starting ACD Raster Processes for Tile :  36NXG
2023-05-17 10:41:54,303: INFO: This individual tile directory already exists  : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG
2023-05-17 10:41:54,373: INFO: Finished ACD Raster Processes for Tile :  36NXG
2023-05-17 10:41:54,373: INFO: Starting ACD Raster Processes for Tile :  36NYG
2023-05-17 10:41:54,374: INFO: This individual tile directory already exists  : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG
2023-05-17 10:41:54,414: INFO: Finished ACD Raster Processes for Tile :  36NYG
2023-05-17 10:41:54,414: INFO: ---------------------------------------------------------------
2023-05-17 10:41:54,414: INFO: Starting acd_by_tile_vectorisation()
2023-05-17 10:41:54,414: INFO:   vectorising each change report raster, by tile
2023-05-17 10:41:54,415: INFO: ---------------------------------------------------------------
2023-05-17 10:41:54,422: INFO: There are 2 Change Report Rasters to vectorise, these are:
2023-05-17 10:41:54,423: INFO: 1  :  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.tif
2023-05-17 10:41:54,423: INFO: 2  :  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.tif
2023-05-17 10:41:54,423: INFO: ---------------------------------------------------------------
2023-05-17 10:41:54,423: INFO: delete_existing flag is set to True: deleting existing vectorised change report shapefiles, pkls and csvs
2023-05-17 10:41:54,434: INFO: ----------------------------------------
2023-05-17 10:41:54,435: INFO: Starting Vectorisation of the Change Report Raster of Tile: 36NXG
2023-05-17 10:41:54,435: INFO: ----------------------------------------
2023-05-17 10:41:54,597: INFO: Opening /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.tif
2023-05-17 10:41:54,597: INFO: Successfully opened /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.tif
2023-05-17 10:41:54,680: INFO: Now vectorising the raster band
2023-05-17 11:02:55,058: INFO: Band 15 of /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.tif was successfully vectorised
2023-05-17 11:02:55,062: INFO: Band 15 was written to /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611_band15.shp
2023-05-17 11:02:55,169: INFO: filtering out zeroes and nodata from: /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611_band15.shp
2023-05-17 11:04:26,616: INFO: filtering complete and saved at  : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611_band15_filtered.shp
2023-05-17 11:26:09,674: INFO: Merging Complete
2023-05-17 11:26:32,573: INFO: reading in administrative boundary information from ./geometry/gadm41_KEN_1.json
2023-05-17 11:26:32,851: INFO: boundary epsg is epsg:4326, but merged dataframe has epsg:21097
2023-05-17 11:26:32,851: INFO: reprojecting
2023-05-17 11:26:32,933: INFO: boundaries reprojected to epsg:21097
2023-05-17 11:28:53,804: INFO: Shapefile written as ESRI Shapefile, to:  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.shp
2023-05-17 11:28:59,029: INFO: GeoDataFrame written as pickle, to:  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.pkl
2023-05-17 11:28:59,030: INFO: Deleting intermediate change report vectorisation files
2023-05-17 11:28:59,058: INFO: Could not delete intermediate files
2023-05-17 11:28:59,641: INFO: ---------------------------------------------------------------
2023-05-17 11:28:59,642: INFO: Vectorisation of the Change Report Raster complete
2023-05-17 11:28:59,642: INFO: ---------------------------------------------------------------
2023-05-17 11:28:59,695: INFO: delete_existing flag is set to True: deleting existing vectorised change report shapefiles, pkls and csvs
2023-05-17 11:28:59,700: INFO: ----------------------------------------
2023-05-17 11:28:59,700: INFO: Starting Vectorisation of the Change Report Raster of Tile: 36NYG
2023-05-17 11:28:59,700: INFO: ----------------------------------------
2023-05-17 11:28:59,831: INFO: Opening /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.tif
2023-05-17 11:28:59,831: INFO: Successfully opened /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.tif
2023-05-17 11:28:59,964: INFO: Now vectorising the raster band
2023-05-17 11:45:44,654: INFO: Band 15 of /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.tif was successfully vectorised
2023-05-17 11:45:44,669: INFO: Band 15 was written to /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611_band15.shp
2023-05-17 11:45:44,865: INFO: filtering out zeroes and nodata from: /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611_band15.shp
2023-05-17 11:47:06,431: INFO: filtering complete and saved at  : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611_band15_filtered.shp
2023-05-17 12:06:18,904: INFO: Merging Complete
2023-05-17 12:06:39,476: INFO: reading in administrative boundary information from ./geometry/gadm41_KEN_1.json
2023-05-17 12:06:39,560: INFO: boundary epsg is epsg:4326, but merged dataframe has epsg:21097
2023-05-17 12:06:39,560: INFO: reprojecting
2023-05-17 12:06:39,634: INFO: boundaries reprojected to epsg:21097
2023-05-17 12:08:47,231: INFO: Shapefile written as ESRI Shapefile, to:  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.shp
2023-05-17 12:08:51,560: INFO: GeoDataFrame written as pickle, to:  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.pkl
2023-05-17 12:08:51,560: INFO: Deleting intermediate change report vectorisation files
2023-05-17 12:08:51,597: INFO: Could not delete intermediate files
2023-05-17 12:08:52,034: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,034: INFO: Vectorisation of the Change Report Raster complete
2023-05-17 12:08:52,034: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,076: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,076: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,076: INFO: National Vectorisation of the Change Reports Complete
2023-05-17 12:08:52,076: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,076: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,076: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,076: INFO: Starting acd_national_integration
2023-05-17 12:08:52,076: INFO: ---------------------------------------------------------------
2023-05-17 12:08:52,081: INFO: Number of change Report Shapefiles to integrate  :  2
2023-05-17 12:08:52,081: INFO: Paths of shapefiles to integrate are:
2023-05-17 12:08:52,082: INFO: 0 : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.shp
2023-05-17 12:08:52,082: INFO: 1 : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.shp
2023-05-17 12:08:52,083: INFO: Reading in ROI
2023-05-17 12:08:52,106: INFO: Ensuring ROI is of EPSG  :  21097
2023-05-17 12:08:52,119: INFO: Reading in change report shapefile   :  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.shp
2023-05-17 12:09:24,402: INFO: ****PROCESSING START****
2023-05-17 12:09:24,403: INFO: ---------------------------------------------------------------
2023-05-17 12:09:24,403: INFO: ---                  INTEGRATED PROCESSING START            ---
2023-05-17 12:09:24,403: INFO: ---------------------------------------------------------------
2023-05-17 12:09:24,403: INFO: Reading in parameters defined in the Config
2023-05-17 12:09:24,403: INFO: ---------------------------------------------------------------
2023-05-17 12:10:12,988: INFO: ****PROCESSING START****
2023-05-17 12:10:12,988: INFO: ---------------------------------------------------------------
2023-05-17 12:10:12,988: INFO: ---                  INTEGRATED PROCESSING START            ---
2023-05-17 12:10:12,988: INFO: ---------------------------------------------------------------
2023-05-17 12:10:12,988: INFO: Reading in parameters defined in the Config
2023-05-17 12:10:12,988: INFO: ---------------------------------------------------------------
2023-05-17 12:10:12,989: INFO: ---------------------------------------------------------------
2023-05-17 12:10:12,989: INFO: Starting acd_to_config_to_log()
2023-05-17 12:10:12,989: INFO: ---------------------------------------------------------------
2023-05-17 12:10:12,989: INFO: Options:
2023-05-17 12:10:12,989: INFO:   Running in production mode, avoiding any development versions of functions.
2023-05-17 12:10:12,989: INFO: EPSG used is: 21097
2023-05-17 12:10:12,989: INFO: List of image bands: ['B02', 'B03', 'B04', 'B08']
2023-05-17 12:10:12,989: INFO: Model used: /data/clcr/shared/IMPRESS/Ivan/kenya_national_prod/models/model_36MYE_20230505_no_haze/model_36MYE_Unoptimised_20230505_no_haze.pkl
2023-05-17 12:10:12,989: INFO: 
2023-05-17 12:10:12,989: INFO: List of class labels:
2023-05-17 12:10:12,989: INFO:   1 : primary forest
2023-05-17 12:10:12,989: INFO:   2 : plantation forest
2023-05-17 12:10:12,989: INFO:   3 : bare soil
2023-05-17 12:10:12,989: INFO:   4 : crops
2023-05-17 12:10:12,989: INFO:   5 : grassland
2023-05-17 12:10:12,990: INFO:   6 : open water
2023-05-17 12:10:12,990: INFO:   7 : burn scar
2023-05-17 12:10:12,990: INFO:   8 : cloud
2023-05-17 12:10:12,990: INFO:   9 : cloud shadow
2023-05-17 12:10:12,990: INFO:   10 : haze
2023-05-17 12:10:12,990: INFO:   11 : sparse woodland
2023-05-17 12:10:12,990: INFO:   12 : dense woodland
2023-05-17 12:10:12,990: INFO:   13 : artificial
2023-05-17 12:10:12,990: INFO: Detecting changes from any of the classes: [1, 2]
2023-05-17 12:10:12,990: INFO:                     to any of the classes: [3]
2023-05-17 12:10:12,990: INFO: ------------------------------------------------------------
2023-05-17 12:10:12,990: INFO: Reporting Directories and Filepaths
2023-05-17 12:10:12,990: INFO: Tile Directory is   : /data/clcr/shared/IMPRESS/matt/testing_tiles/
2023-05-17 12:10:12,990: INFO: Working Directory is   : /data/clcr/shared/IMPRESS/matt/pyeo_1/pyeo_1_production/pyeo_1_production
2023-05-17 12:10:12,990: INFO: The following directories are relative to the working directory, i.e. stored underneath:
2023-05-17 12:10:12,990: INFO: Integrated Directory is   : ./integrated
2023-05-17 12:10:12,991: INFO: ROI Directory is   : ./roi
2023-05-17 12:10:12,991: INFO: Geometry Directory is   : ./geometry
2023-05-17 12:10:12,991: INFO: Path to the Administrative Boundaries used in the Change Report Vectorisation   : ./geometry/gadm41_KEN_1.json
2023-05-17 12:10:12,991: INFO: Path to Sen2Cor is   : /home/m/mp730/Downloads/Sen2Cor-02.11.00-Linux64/bin/L2A_Process
2023-05-17 12:10:12,991: INFO: The Conda Environment which was provided in .ini file is :  pyeo_prod_0_8_0_env
2023-05-17 12:10:12,991: INFO: -------------------------------------------
2023-05-17 12:10:12,991: INFO: Streaming config parameters to log file for reference
2023-05-17 12:10:12,991: INFO: planet
2023-05-17 12:10:12,991: INFO:      api_key :  
2023-05-17 12:10:12,991: INFO: forest_sentinel
2023-05-17 12:10:12,991: INFO:      start_date :  20230101
2023-05-17 12:10:12,991: INFO:      end_date :  20231231
2023-05-17 12:10:12,991: INFO:      composite_start :  20220601
2023-05-17 12:10:12,991: INFO:      composite_end :  20221231
2023-05-17 12:10:12,991: INFO:      epsg :  21097
2023-05-17 12:10:12,992: INFO:      cloud_cover :  25
2023-05-17 12:10:12,992: INFO:      cloud_certainty_threshold :  0
2023-05-17 12:10:12,992: INFO:      model :  /data/clcr/shared/IMPRESS/Ivan/kenya_national_prod/models/model_36MYE_20230505_no_haze/model_36MYE_Unoptimised_20230505_no_haze.pkl
2023-05-17 12:10:12,992: INFO: environment
2023-05-17 12:10:12,992: INFO:      pyeo_dir :  /data/clcr/shared/IMPRESS/matt/pyeo_1/pyeo_1_production/pyeo_1_production
2023-05-17 12:10:12,992: INFO:      tile_dir :  /data/clcr/shared/IMPRESS/matt/testing_tiles/
2023-05-17 12:10:12,992: INFO:      integrated_dir :  ./integrated
2023-05-17 12:10:12,992: INFO:      roi_dir :  ./roi
2023-05-17 12:10:12,992: INFO:      roi_filename :  kfs_roi_subset.shp
2023-05-17 12:10:12,992: INFO:      geometry_dir :  ./geometry
2023-05-17 12:10:12,992: INFO:      log_dir :  ./log
2023-05-17 12:10:12,992: INFO:      log_filename :  acd_total_test_120523.txt
2023-05-17 12:10:12,992: INFO:      credentials_path :  ./credentials/credentials.ini
2023-05-17 12:10:12,992: INFO:      conda_env_name :  pyeo_prod_0_8_0_env
2023-05-17 12:10:12,992: INFO:      sen2cor_path :  /home/m/mp730/Downloads/Sen2Cor-02.11.00-Linux64/bin/L2A_Process
2023-05-17 12:10:12,992: INFO: raster_processing_parameters
2023-05-17 12:10:12,993: INFO:      band_names :  ["B02", "B03", "B04", "B08"]
2023-05-17 12:10:12,993: INFO:      resolution_string :  "10m"
2023-05-17 12:10:12,993: INFO:      output_resolution :  10
2023-05-17 12:10:12,993: INFO:      buffer_size_cloud_masking :  20
2023-05-17 12:10:12,993: INFO:      buffer_size_cloud_masking_composite :  10
2023-05-17 12:10:12,993: INFO:      download_limit :  10
2023-05-17 12:10:12,993: INFO:      faulty_granule_threshold :  200
2023-05-17 12:10:12,993: INFO:      class_labels :  ["primary forest", "plantation forest", "bare soil", "crops", "grassland", "open water", "burn scar", "cloud", "cloud shadow", "haze", "sparse woodland", "dense woodland", "artificial"]
2023-05-17 12:10:12,993: INFO:      change_from_classes :  [1, 2]
2023-05-17 12:10:12,993: INFO:      change_to_classes :  [3]
2023-05-17 12:10:12,993: INFO:      sieve :  0
2023-05-17 12:10:12,993: INFO:      chunks :  10
2023-05-17 12:10:12,993: INFO:      download_source :  "scihub"
2023-05-17 12:10:12,993: INFO:      do_raster :  False
2023-05-17 12:10:12,994: INFO:      do_build_composite :  False
2023-05-17 12:10:12,994: INFO:      do_all :  False
2023-05-17 12:10:12,994: INFO:      do_download :  False
2023-05-17 12:10:12,994: INFO:      do_build_prob_image :  False
2023-05-17 12:10:12,994: INFO:      do_classify :  False
2023-05-17 12:10:12,994: INFO:      do_change :  False
2023-05-17 12:10:12,994: INFO:      do_dev :  False
2023-05-17 12:10:12,994: INFO:      do_update :  False
2023-05-17 12:10:12,994: INFO:      do_quicklooks :  False
2023-05-17 12:10:12,994: INFO:      do_delete :  False
2023-05-17 12:10:12,994: INFO:      do_zip :  False
2023-05-17 12:10:12,994: INFO:      do_skip_existing :  False
2023-05-17 12:10:12,994: INFO: vector_processing_parameters
2023-05-17 12:10:12,994: INFO:      level_1_filename :  gadm41_KEN_1.json
2023-05-17 12:10:12,994: INFO:      level_2_filename :  gadm41_KEN_2.json
2023-05-17 12:10:12,994: INFO:      level_3_filename :  gadm41_KEN_3.json
2023-05-17 12:10:12,995: INFO:      do_delete_existing_vector :  False
2023-05-17 12:10:12,995: INFO:      do_vectorise :  False
2023-05-17 12:10:12,995: INFO:      do_integrate :  True
2023-05-17 12:10:12,995: INFO:      counties_of_interest :  ["Kwale", "TransNzoia"]
2023-05-17 12:10:12,995: INFO: ---------------------------------------------------------------
2023-05-17 12:10:12,995: INFO: Starting acd_roi_tile_intersection()
2023-05-17 12:10:12,995: INFO: ---------------------------------------------------------------
2023-05-17 12:10:13,234: INFO: The provided ROI intersects with 2 Sentinel-2 tiles
2023-05-17 12:10:13,234: INFO: These tiles are  :
2023-05-17 12:10:13,234: INFO:   1 : 36NXG
2023-05-17 12:10:13,234: INFO:   2 : 36NYG
2023-05-17 12:10:13,234: INFO: Writing Sentinel-2 tiles that intersect with the provided ROI to  : ./roi/tilelist.csv
2023-05-17 12:10:13,336: INFO: Finished ROI tile intersection
2023-05-17 12:10:13,337: INFO: ---------------------------------------------------------------
2023-05-17 12:10:13,337: INFO: Starting acd_national_integration
2023-05-17 12:10:13,337: INFO: ---------------------------------------------------------------
2023-05-17 12:10:13,342: INFO: Number of change Report Shapefiles to integrate  :  2
2023-05-17 12:10:13,343: INFO: Paths of shapefiles to integrate are:
2023-05-17 12:10:13,343: INFO: 0 : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.shp
2023-05-17 12:10:13,343: INFO: 1 : /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.shp
2023-05-17 12:10:13,343: INFO: Reading in ROI
2023-05-17 12:10:13,362: INFO: Ensuring ROI is of EPSG  :  21097
2023-05-17 12:10:13,373: INFO: Reading in change report shapefile   :  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.shp
2023-05-17 12:11:02,837: INFO: Ensuring change report shapefile is of EPSG  :  21097
2023-05-17 12:11:02,980: INFO: Intersecting /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.shp with ./roi/kfs_roi_subset.shp
2023-05-17 12:11:15,078: ERROR: failed to merge geodataframe: /data/clcr/shared/IMPRESS/matt/testing_tiles/36NYG/output/probabilities/report_20230220T074941_36NYG_20230511T074611.shp
2023-05-17 12:11:15,627: INFO: Reading in change report shapefile   :  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.shp
2023-05-17 12:11:16,049: ERROR: failed to merge geodataframe: /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.shp
2023-05-17 12:11:16,051: INFO: Merging loop complete, now writing integrated shapefile to /data/clcr/shared/IMPRESS/matt/testing_tiles/national_geodataframe.shp
2023-05-17 12:11:16,053: ERROR: failed to write output at :  /data/clcr/shared/IMPRESS/matt/testing_tiles/national_geodataframe.shp
2023-05-17 12:11:16,054: INFO: Integrated GeoDataFrame written to /data/clcr/shared/IMPRESS/matt/testing_tiles/national_geodataframe.shp
2023-05-17 12:11:16,054: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,054: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,055: INFO: National Integration of the Vectorised Change Reports Complete
2023-05-17 12:11:16,055: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,055: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,055: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,055: INFO: Starting acd_national_filtering
2023-05-17 12:11:16,055: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,055: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,055: INFO: Starting acd_national_manual_validation()
2023-05-17 12:11:16,055: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,056: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,056: INFO: Starting acd_national_distribution()
2023-05-17 12:11:16,056: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,056: INFO: ---------------------------------------------------------------
2023-05-17 12:11:16,056: INFO: ---                  INTEGRATED PROCESSING END              ---
2023-05-17 12:11:16,056: INFO: ---------------------------------------------------------------
2023-05-17 12:11:39,433: INFO: Intersection: Success
2023-05-17 12:11:39,465: INFO: Integrated geodataframe length is currently  :  751
2023-05-17 12:11:39,465: INFO: Reading in change report shapefile   :  /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.shp
2023-05-17 12:14:22,211: INFO: Ensuring change report shapefile is of EPSG  :  21097
2023-05-17 12:14:22,345: INFO: Intersecting /data/clcr/shared/IMPRESS/matt/testing_tiles/36NXG/output/probabilities/report_20230305T075811_36NXG_20230511T074611.shp with ./roi/kfs_roi_subset.shp
2023-05-17 12:15:03,875: INFO: Intersection: Success
2023-05-17 12:15:03,965: INFO: Integrated geodataframe length is currently  :  5051
2023-05-17 12:15:03,974: INFO: Merging loop complete, now writing integrated shapefile to /data/clcr/shared/IMPRESS/matt/testing_tiles/national_geodataframe.shp
2023-05-17 12:15:07,675: INFO: Integrated GeoDataFrame written to /data/clcr/shared/IMPRESS/matt/testing_tiles/national_geodataframe.shp
2023-05-17 12:15:07,675: INFO: ---------------------------------------------------------------
2023-05-17 12:15:07,675: INFO: ---------------------------------------------------------------
2023-05-17 12:15:07,675: INFO: National Integration of the Vectorised Change Reports Complete
2023-05-17 12:15:07,675: INFO: ---------------------------------------------------------------
2023-05-17 12:15:07,676: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,475: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: Starting acd_national_filtering
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: Starting acd_national_dataframe_to_shapefile()
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: Starting acd_national_manual_validation()
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: Starting acd_national_distribution()
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: ---------------------------------------------------------------
2023-05-17 12:15:08,477: INFO: ---                  INTEGRATED PROCESSING END              ---
2023-05-17 12:15:08,478: INFO: ---------------------------------------------------------------
